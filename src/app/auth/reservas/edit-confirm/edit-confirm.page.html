<app-navbar titulo="Reserva"></app-navbar>

<ion-content padding>

  <div class="reserva">
    <h1 class="titleReserva-section margin-bottom">
      Reserva {{clase.rels?.auth_reservation.status}}
    </h1>
    <h4 class="date-section">
      {{clase.dateHuman}} de {{clase.start}} - {{clase.end}} hrs
    </h4>

    <div class="cupos">
      <h5>Cupos</h5>
      <div class="cupos-wrapper ps-row">
        <div class="col-5 cupos-item">{{clase.quota - clase.rels?.users.count}} Disponibles</div>
        <div class="col-7 cupos-item">{{clase.rels?.users.count}} Reservados</div>
      </div>
    </div>

    <div class="buttons-edit-reserva">
      <!-- <button class="button-edit" (click)="goToEditHour(this.clase.date)">Cambiar hora</button> -->
      <button *ngIf="clase.rels?.auth_reservation.status === 'Pendiente'" class="button-edit" (click)="openModalCeder()">Ceder cupo</button>
    </div>

    <div class="card card-crossfiters">
      <div class="title">
        <h5>Crossfiters en esta Clase</h5>
      </div>
      <div class="content">

        <div class="item-crossfiters ps-row" *ngFor="let user of users" >
          <div class="col-2 item-img">
            <img src="{{user.avatar}}">
          </div>
          <div class="col-10 item-data">
            <h6>{{user.nombre}}</h6>
            <p>Atleta hace 1 a√±o</p>
          </div>
        </div>

      </div>
    </div>
  </div>

  <div [ngClass]="buttonFixIOS" *ngIf="clase.rels?.auth_reservation.status === 'Pendiente'">
    <button class="reservar" (click)="openModal()">Confirmar asistencia</button>
  </div>

</ion-content>

<ion-footer>
  <div [ngClass]="buttonFixAndroid" *ngIf="clase.rels?.auth_reservation.status === 'Pendiente'">
    <button class="reservar" (click)="openModal()">Confirmar asistencia</button>
  </div>
</ion-footer>
